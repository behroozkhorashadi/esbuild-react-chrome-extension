import { checkAngles } from "../src/gesture_utils";
describe("Ingredient DAL", () => {
  it("checkAngles should detect circle", async () => {
    const angles = [
      119.13249100248731, 175.5081703592017, 260.7040128734326,
      319.40785803535107, 63.03466382450584, 120.27204568976218,
      173.67113632784708, 241.832449169218, 316.16472962349485,
      43.0466443842559, 108.87430280800642, 148.63005019250022,
      284.26099944654766, 332.06005157100975, 332.3075021483307,
      10.515332213760514
    ];
    expect(checkAngles(angles)).toBeTruthy();
  });
  it("should detect circle with more points", () => {
    const angles = [
      97.27259427185287, 137.86893876480332, 232.61979742674515,
      294.1481493559956, 1.5048654039468068, 78.77134260164064,
      148.23034575574286, 282.37945128760003, 333.37551338831474,
      81.04654804959658, 122.00854078320982, 227.4924623710147, 278.58330514789,
      333.1569388412458, 103.00096764172706, 164.28151284307208,
      248.12936139220977, 304.30820434667424, 8.09047567826277,
      92.60664222666959, 148.59321713837718, 302.51724413637174,
      347.3615969093159, 89.16056146628767, 119.95614189308353,
      204.51305409210138, 287.8861943905169, 349.9701114862735,
      107.80627127967439, 225.76768078645028, 283.55521595751065,
      335.06457229853135, 87.93849977439129, 129.65085114730417,
      178.80635616367832
    ];
    expect(checkAngles(angles)).toBeTruthy();
  });
  it("should not detect a circle and should splice non circular entries", () => {
    const angles = [
      226.19061814853652, 212.13930636631184, 185.77811906912663,
      147.29877513599112, 124.23689682553973, 109.32477588232898,
      103.4957332807958, 102.78445300179973, 84.43061436234746,
      72.8371744557437, 69.6108352197183, 53.869579958295695, 32.05323506793447,
      332.7981025509856, 288.1795981843835, 281.21884228126885,
      275.5258689249448, 272.8291286488402
    ];
    const anglesLength = angles.length;
    expect(checkAngles(angles)).toBeFalsy();
    expect(angles.length).toBeLessThan(anglesLength);
  });
  it("should not detect figure 8", () => {
    const angles = [
      35.498504287314155, 48.93167148002223, 103.12412438305016,
      136.79627838946584, 185.4891365313199, 227.9650917724249,
      268.0984303858467, 307.4297023963105, 329.0961859161738,
      343.83300571298383, 66.10120836384127, 128.44402363017232,
      115.1791333262658, 99.51415106416525, 78.555363468865, 49.52598292223274,
      18.77890345877097, 336.0415354532801, 253.20858116805846,
      167.59258147259928, 175.12951938267352, 203.6929725538815,
      239.03459717940257, 275.51713597898805, 304.18220907670553,
      324.7830475516337, 3.090269031411277, 131.30117734936658,
      126.07775214598243
    ];
    const anglesLength = angles.length;
    expect(checkAngles(angles)).toBeFalsy();
    expect(angles.length).toBeLessThan(anglesLength);
  });
  it("should not detect giggle mouse movement", () => {
    const angles = [
      75.43484483407028, 73.40796253668634, 300.7347310423032,
      270.47832872834226, 282.15943439150016, 79.95276307588158,
      82.74639442916599, 266.82572736139934, 267.065106367383,
      110.82009553378884, 110.92777053066744, 263.25185888409567,
      268.4206297042111, 284.9734871304472, 84.71957044629404,
      279.98470689645325, 262.71404087351976, 223.00951108613268,
      110.33254735820988, 99.70968803922608, 270.5925557679406,
      268.7487468969184, 48.65032201299358, 63.09343380465819,
      300.6843408162246, 287.9718677988298, 98.44228415041498,
      98.45752917067682, 97.59464336859145, 274.2075173569893,
      275.74803523608296, 84.47485345570813, 270.12533921381777
    ];
    const anglesLength = angles.length;
    expect(checkAngles(angles)).toBeFalsy();
    expect(angles.length).toBeLessThan(anglesLength);
  });
});
